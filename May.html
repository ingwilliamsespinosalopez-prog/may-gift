<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Te quiero</title>
  <style>
    :root{--bg:#f3f5f9;--box:#c33;--lid:#b02828;--ribbon:#ffd6e0}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{display:grid;place-items:center;background:linear-gradient(180deg,#eef2fb 0%,var(--bg) 100%)}

    .scene{width:320px;perspective:900px}
    .box{width:320px;height:220px;position:relative;transform-style:preserve-3d;cursor:pointer}

    .base{position:absolute;inset:40px 0 0 0;background:var(--box);border-radius:12px 12px 10px 10px;box-shadow:0 18px 30px rgba(0,0,0,.18);display:flex;align-items:flex-end;justify-content:center;padding-bottom:18px}

    .lid{position:absolute;left:0;right:0;top:0;height:110px;background:var(--lid);border-radius:12px 12px 0 0;transform-origin:50% 100%;transform:rotateX(0deg);transition:transform .9s cubic-bezier(.2,.9,.25,1);display:flex;align-items:center;justify-content:center}

    .ribbon{position:absolute;left:50%;top:40px;transform:translateX(-50%);width:220px;height:28px;background:var(--ribbon);border-radius:6px;box-shadow:inset 0 -4px 6px rgba(0,0,0,.06)}
    .bow{position:absolute;left:50%;top:24px;transform:translateX(-50%);width:64px;height:40px;background:radial-gradient(circle at 30% 35%,#fff2f8 0 8px, transparent 9px),var(--ribbon);border-radius:8px}

    .scroll{position:absolute;left:50%;top:50%;transform:translate(-50%,120%);width:86%;max-width:270px;background:linear-gradient(180deg,#fffef6,#fff2db);border-radius:10px;padding:18px 20px;box-shadow:0 22px 40px rgba(0,0,0,.12);opacity:0;transition:transform .9s cubic-bezier(.2,.9,.25,1),opacity .6s}
    .scroll::before,.scroll::after{content:'';position:absolute;left:50%;transform:translateX(-50%);width:86%;height:14px;background:linear-gradient(90deg,#e8d5b4,#d8c69a);border-radius:50%}
    .scroll::before{top:-12px}
    .scroll::after{bottom:-12px}

    .box.open .lid{transform:rotateX(-120deg)}
    .box.open .scroll{transform:translate(-50%,5%);opacity:1}

    .message{min-height:48px;overflow:hidden;font-size:18px;line-height:1.2;color:#4b2b0f;white-space:pre-wrap}
    .small{font-size:14px;color:#3b2a20;margin-top:8px}

    .hint{position:absolute;left:50%;bottom:-52px;transform:translateX(-50%);font-size:13px;color:#666}

    @media (max-width:420px){.scene{width:86vw}.base{padding-bottom:12px}.scroll{padding:14px}}
  </style>
</head>
<body>
  <div class="scene">
    <div class="box" id="gift">
      <div class="lid" id="lid">
        <div class="ribbon"></div>
        <div class="bow"></div>
      </div>

      <div class="base"></div>

      <div class="scroll" id="scroll" aria-hidden="true">
        <div class="message" id="line1"></div>
        <div class="small" id="line2"></div>
      </div>

    </div>
    <div class="hint"></div>
  </div>

  <script>
    const gift = document.getElementById('gift');
    const lid = document.getElementById('lid');
    const scroll = document.getElementById('scroll');
    const line1 = document.getElementById('line1');
    const line2 = document.getElementById('line2');

    const text1 = '';
    const text2 = 'Para usted pequeña preciosa                             Te quiero, te quiero mucho mucho, me gusta estar contigo y abrazarte,me gusta que me manocees, y si te volvere hacer mamá, y luego tener sexo a lo maldito y que me hagas solo tuyo, te amo';

    let opened = false;
    let typing = false;

    function typeText(element, text, speed=40) {
      return new Promise(resolve => {
        element.textContent = '';
        let i = 0;
        typing = true;
        const t = setInterval(()=>{
          element.textContent += text.charAt(i);
          i++;
          if(i >= text.length){clearInterval(t);typing=false;resolve()}
        }, speed);
      });
    }

    async function openGift(){
      if(opened) return;
      opened = true;
      gift.classList.add('open');
      scroll.setAttribute('aria-hidden','false');

      await new Promise(r=>setTimeout(r,500));
      await typeText(line1, text1, 45);
      await new Promise(r=>setTimeout(r,600));
      await typeText(line2, text2, 45);
    }

    gift.addEventListener('click', ()=>{
      if(!opened) openGift();
    });


    gift.setAttribute('tabindex','0');
    gift.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        if(!opened) openGift();
      }
    });
  </script>
</body>
</html>
